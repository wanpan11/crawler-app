(()=>{"use strict";var e={4845:function(e,t,r){var n=r(2676),o=r(5271),a=r(8751),i=r(2096),s=r(9814),l=r(4731),c=r(8504),d=r(597),u=r(3438),h=r(3802),p=r(9116);let f=new class{send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o={...n};return o.url=e,o.method=t,"get"===t.toLocaleLowerCase()?o.params=r:o.data=r,this.instance.request(o)}constructor(e){(0,u._)(this,"instance",void 0),(0,u._)(this,"baseConfig",{baseURL:"/",timeout:3e4}),this.instance=p.Z.create(Object.assign(this.baseConfig,e)),this.instance.interceptors.request.use(e=>e),this.instance.interceptors.response.use(e=>e.data,e=>{throw h.ZP.error({message:`请求异常 ===> ${e.message}`}),Error(e.message)})}}({}),b={python:e=>f.send("http://127.0.0.1:8000/start-crawler","post",e,{timeout:0,responseType:"blob"})},{Option:v}=i.Z,g=document.getElementById("root");(0,a.createRoot)(g).render((0,n.jsx)(o.StrictMode,{children:(0,n.jsx)(()=>{let[e,t]=(0,o.useState)(!1),[r,a]=(0,o.useState)("bili"),[u,h]=(0,o.useState)("detail"),[p,f]=(0,o.useState)(""),g=async()=>{if(!p){s.ZP.warning("请输入target_ids");return}t(!0);try{let e=await b.python({platform:r,target_ids:p.split("\n").map(e=>e.trim())}),t=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=t,n.setAttribute("download",`${r}_data.zip`),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(t),s.ZP.success("下载成功")}catch(e){console.error(e),s.ZP.error("请求失败")}finally{t(!1)}};return(0,n.jsx)("div",{className:"w-[1100px] m-auto",children:(0,n.jsx)(l.Z,{title:"配置",children:(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsx)(i.Z,{disabled:e,value:r,onChange:a,style:{width:200,marginRight:16},children:(0,n.jsx)(v,{value:"bili",children:"哔哩哔哩"})}),(0,n.jsx)(i.Z,{disabled:e,value:u,onChange:h,style:{width:200,marginRight:16},children:(0,n.jsx)(v,{value:"detail",children:"评论"})}),(0,n.jsx)(c.Z.TextArea,{value:p,disabled:e,className:"min-h-[200px] w-1/2",autoSize:{minRows:3},placeholder:"输入需要抓去的视频/文章 ID 每行一个",onChange:e=>f(e.target.value)}),(0,n.jsx)("div",{children:(0,n.jsx)(d.ZP,{type:"primary",loading:e,onClick:g,children:e?"任务执行中":"开始任务"})})]})})})},{})}))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,o){if(1&o&&(n=this(n)),8&o||"object"==typeof n&&n&&(4&o&&n.__esModule||16&o&&"function"==typeof n.then))return n;var a=Object.create(null);r.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>{i[e]=()=>n[e]});return i.default=()=>n,r.d(a,i),a}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];r.O=(t,n,o,a)=>{if(n){a=a||0;for(var i=e.length;i>0&&e[i-1][2]>a;i--)e[i]=e[i-1];e[i]=[n,o,a];return}for(var s=1/0,i=0;i<e.length;i++){for(var[n,o,a]=e[i],l=!0,c=0;c<n.length;c++)(!1&a||s>=a)&&Object.keys(r.O).every(e=>r.O[e](n[c]))?n.splice(c--,1):(l=!1,a<s&&(s=a));if(l){e.splice(i--,1);var d=o();void 0!==d&&(t=d)}}return t}})(),r.rv=()=>"1.3.0",(()=>{var e={980:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[i,s,l]=n,c=0;if(i.some(t=>0!==e[t])){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var d=l(r)}for(t&&t(n);c<i.length;c++)a=i[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(d)},n=self.webpackChunkcrawler_app=self.webpackChunkcrawler_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.ruid="bundler=rspack@1.3.0";var n=r.O(void 0,["72","361","194"],function(){return r(4845)});n=r.O(n)})();